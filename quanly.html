<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quản Lý Chi Tiêu</title>
  <link rel="stylesheet" href="quanly.css">
  <script defer src="quanly.js"></script>
</head>
<body class="bg-gray-100">

  <div class="max-w-xl mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4 text-center text-blue-700">Quản Lý Chi Tiêu</h1>

    <!-- Tổng quan -->
    <div class="bg-white p-4 rounded shadow text-blue-700 mb-4">
      <div class="grid grid-cols-1 gap-4 text-center">
        <div class="p-4 bg-green-100 rounded-lg shadow">
          <p class="text-sm font-semibold text-green-800">Tổng Thu Nhập</p>
          <p id="total-income" class="text-2xl font-bold text-green-600">0 đ</p>
        </div>
        <div class="p-4 bg-red-100 rounded-lg shadow">
          <p class="text-sm font-semibold text-red-800">Tổng Chi Tiêu</p>
          <p id="total-expense" class="text-2xl font-bold text-red-600">0 đ</p>
        </div>
        <div class="p-4 bg-blue-100 rounded-lg shadow">
          <p class="text-sm font-semibold text-blue-800">Số Dư</p>
          <p id="balance" class="text-2xl font-bold text-blue-600">0 đ</p>
        </div>
      </div>
    </div>

    <!-- Nút hiển thị form -->
    <div class="text-center mb-4">
      <button id="toggle-add-form" class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">Thêm Giao Dịch</button>
      <button id="toggle-edit-form" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 ml-2">Chỉnh Sửa Chi Tiết</button>
    </div>

    <!-- Form thêm giao dịch -->
    <div id="add-transaction-form" class="hidden bg-white p-4 rounded shadow mb-4">
      <h2 class="text-xl font-bold mb-2 text-blue-700">Thêm Giao Dịch</h2>
      <form id="transaction-form" class="space-y-2">
        <input type="text" id="desc" placeholder="Mô tả giao dịch" class="w-full p-2 border rounded" required>
        <input type="text" id="amount" placeholder="Số tiền" class="w-full p-2 border rounded" required>
        <select id="type" class="w-full p-2 border rounded" required>
          <option value="income">Thu Nhập</option>
          <option value="expense">Chi Tiêu</option>
        </select>
        <select id="category" class="w-full p-2 border rounded" required>
          <option value="food">Ăn Uống</option>
          <option value="transportation">Đi Lại</option>
          <option value="savings">Tiết Kiệm</option>
          <option value="other">Khác</option>
        </select>
        <input type="date" id="date" class="w-full p-2 border rounded" required>
        <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Lưu</button>
      </form>
    </div>

    <!-- Form chỉnh sửa/xóa giao dịch -->
    <div id="edit-transaction-form" class="hidden bg-white p-4 rounded shadow mb-4">
      <h2 class="text-xl font-bold mb-2 text-blue-700">Chỉnh Sửa Chi Tiết</h2>
      <form id="edit-transaction-detail-form" class="space-y-2">
        <input type="text" id="edit-desc" placeholder="Mô tả giao dịch" class="w-full p-2 border rounded" required>
        <input type="text" id="edit-amount" placeholder="Số tiền" class="w-full p-2 border rounded" required>
        <select id="edit-type" class="w-full p-2 border rounded" required>
          <option value="income">Thu Nhập</option>
          <option value="expense">Chi Tiêu</option>
        </select>
        <select id="edit-category" class="w-full p-2 border rounded" required>
          <option value="food">Ăn Uống</option>
          <option value="transportation">Đi Lại</option>
          <option value="savings">Tiết Kiệm</option>
          <option value="other">Khác</option>
        </select>
        <input type="date" id="edit-date" class="w-full p-2 border rounded" required>
        <div class="flex space-x-2">
          <button type="submit" class="w-1/2 bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Cập Nhật</button>
          <button type="button" id="delete-transaction-btn" class="w-1/2 bg-red-500 text-white py-2 rounded hover:bg-red-600">Xóa</button>
        </div>
      </form>
    </div>

    <!-- Danh sách giao dịch -->
    <div class="bg-white p-4 rounded shadow">
      <h2 class="font-bold text-blue-600 mb-2">Lịch Sử Giao Dịch</h2>
      <ul id="transaction-calendar" class="space-y-2"></ul>
    </div>

  </div>

</body>
</html>
